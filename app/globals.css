@import "tailwindcss";

:root {
  --background: #0d0d0f;
  --foreground: #f5f5f5;
  --card: #1a1a1f;
  --card-elevated: #24242c;
  --border: #2a2a35;
  --primary: #e05c3a;
  --secondary: #5ca8e0;
  --accent: #c084fc;
  --success: #22c55e;
  --muted: #9ca3af;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

.nav-shell {
  background:
    linear-gradient(162deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.06) 100%),
    rgba(30, 30, 37, 0.58);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.24),
    0 18px 48px rgba(0, 0, 0, 0.42);
}

.nav-pill {
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255, 255, 255, 0.38) 0%, rgba(255, 255, 255, 0.06) 72%),
    linear-gradient(165deg, rgba(255, 255, 255, 0.18) 0%, rgba(255, 255, 255, 0.04) 100%);
  border: 1px solid rgba(255, 255, 255, 0.24);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.45),
    0 6px 20px rgba(0, 0, 0, 0.28);
  transition: transform 560ms cubic-bezier(0.22, 1, 0.36, 1), opacity 220ms ease;
  will-change: transform;
}

.nav-item {
  transition:
    color 260ms ease,
    transform 420ms cubic-bezier(0.22, 1, 0.36, 1);
}

.nav-glyph {
  transition:
    transform 420ms cubic-bezier(0.22, 1, 0.36, 1),
    filter 320ms ease,
    opacity 240ms ease;
}

.nav-item[data-active="true"] .nav-glyph {
  filter: drop-shadow(0 1px 6px rgba(255, 255, 255, 0.16));
}

.timer-frame {
  padding: 1px;
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.04));
}

.timer-frame-content {
  background: rgba(9, 10, 14, 0.56);
  backdrop-filter: blur(9px) saturate(110%);
  -webkit-backdrop-filter: blur(9px) saturate(110%);
}

/* Timer - Cigarette visual */
.cigarette-track {
  display: flex;
  align-items: center;
  width: 100%;
  min-height: 48px;
}

.cigarette-filter {
  width: 52px;
  height: 42px;
  flex-shrink: 0;
  border-radius: 6px 0 0 6px;
  border-right: 1px solid rgba(92, 47, 18, 0.32);
  background:
    linear-gradient(180deg, rgba(235, 162, 88, 0.95) 0%, rgba(161, 97, 43, 0.94) 100%),
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.08) 0 3px, transparent 3px 6px);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    inset 0 -4px 8px rgba(0, 0, 0, 0.24);
}

.cigarette-body-shell {
  position: relative;
  height: 42px;
  flex: 1;
  border-radius: 0 6px 6px 0;
  overflow: visible;
}

.cigarette-body-bg {
  position: absolute;
  inset: 0;
  border-radius: 0 6px 6px 0;
  background:
    linear-gradient(180deg, rgba(31, 33, 38, 1) 0%, rgba(20, 21, 24, 1) 100%);
}

.cigarette-body-bg.is-rest {
  background:
    linear-gradient(180deg, rgba(27, 35, 47, 1) 0%, rgba(16, 26, 40, 1) 100%);
}

.cigarette-paper {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  border-radius: 0 6px 6px 0;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(232, 234, 238, 0.96) 100%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    inset 0 -4px 8px rgba(0, 0, 0, 0.1);
}

.cigarette-paper.is-rest {
  background:
    linear-gradient(180deg, rgba(203, 233, 255, 0.96) 0%, rgba(147, 205, 255, 0.95) 100%);
}

.cigarette-tip {
  position: absolute;
  right: -5px;
  top: -1px;
  bottom: -1px;
  width: 10px;
  border-radius: 0 7px 7px 0;
  background:
    linear-gradient(90deg, rgba(53, 43, 43, 0.9) 0%, rgba(255, 108, 69, 0.95) 64%, rgba(255, 209, 104, 0.9) 100%);
  filter: drop-shadow(0 0 8px rgba(255, 111, 78, 0.45));
  transform-origin: center;
}

.cigarette-tip.is-active {
  animation: ember-pulse 1.3s ease-in-out infinite;
}

.cigarette-ash {
  position: absolute;
  right: -12px;
  top: 2px;
  bottom: 2px;
  width: 8px;
  border-radius: 0 8px 8px 0;
  background: linear-gradient(180deg, rgba(198, 198, 198, 0.95), rgba(140, 140, 140, 0.88));
  opacity: 0.9;
}

.cigarette-ash.is-rest {
  opacity: 0.45;
  filter: blur(0.3px);
}

.smoke-layer {
  position: absolute;
  right: -1px;
  top: -58px;
  width: 24px;
  height: 72px;
  pointer-events: none;
}

.smoke-particle {
  position: absolute;
  bottom: 0;
  border-radius: 999px;
  background: radial-gradient(circle at 35% 35%, rgba(220, 228, 239, 0.7), rgba(148, 162, 179, 0.1) 70%);
  filter: blur(1.1px);
  animation-name: smoke-rise;
  animation-timing-function: ease-out;
  animation-fill-mode: forwards;
}

@keyframes ember-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 8px rgba(255, 111, 78, 0.45));
    transform: scale(1);
  }
  50% {
    filter: drop-shadow(0 0 16px rgba(255, 149, 89, 0.8));
    transform: scale(1.06);
  }
}

@keyframes smoke-rise {
  0% {
    transform: translate3d(0, 0, 0) scale(0.85);
    opacity: 0;
  }
  20% {
    opacity: 0.32;
  }
  100% {
    transform: translate3d(var(--drift), -72px, 0) scale(1.95);
    opacity: 0;
  }
}

/* üö¨ Âê∏„Å£„Åü„Éú„Çø„É≥ - 3Â±§„Ç∞„É≠„Éº */
@keyframes glow-burst {
  0%   { box-shadow: 0 0 24px rgba(224, 92, 58, 0.12); }
  20%  { box-shadow: 0 0 55px rgba(224, 92, 58, 0.95), 0 0 100px rgba(224, 92, 58, 0.5), 0 0 180px rgba(224, 92, 58, 0.22); }
  100% { box-shadow: 0 0 24px rgba(224, 92, 58, 0.12); }
}
.glow-burst {
  animation: glow-burst 0.8s ease-out;
}

/* Âê∏„Å£„Åü„Éú„Çø„É≥ - „É™„ÉÉ„Éó„É´„É™„É≥„Ç∞ */
@keyframes ripple-ring {
  0%   { transform: scale(1);    opacity: 0.8; }
  100% { transform: scale(1.28); opacity: 0;   }
}
.ripple-ring {
  animation: ripple-ring 0.65s ease-out forwards;
  pointer-events: none;
}

/* Âê∏„Å£„Åü„Éú„Çø„É≥ - +1 „Éï„É≠„Éº„Éà */
@keyframes float-up {
  0%   { transform: translateY(0)    scale(1);   opacity: 1; }
  20%  { transform: translateY(-6px) scale(1.25); opacity: 1; }
  100% { transform: translateY(-52px) scale(0.8); opacity: 0; }
}
.float-up {
  animation: float-up 0.9s ease-out forwards;
  pointer-events: none;
}

/* „Çø„Ç§„Éû„ÉºÂà∂Âæ°„Éú„Çø„É≥ - „Éï„É©„ÉÉ„Ç∑„É• */
@keyframes ctrl-glow {
  0%   { filter: brightness(1);   box-shadow: none; }
  30%  { filter: brightness(1.6); box-shadow: 0 0 20px rgba(255,255,255,0.25); }
  100% { filter: brightness(1);   box-shadow: none; }
}
.ctrl-glow {
  animation: ctrl-glow 0.35s ease-out;
}

/* „Éú„Éà„É†„Éä„Éì - „Éê„Ç¶„É≥„Çπ */
@keyframes nav-bounce {
  0%   { transform: scale(1); }
  30%  { transform: scale(0.75); }
  60%  { transform: scale(1.2);  }
  80%  { transform: scale(0.93); }
  100% { transform: scale(1); }
}
.nav-bounce {
  animation: nav-bounce 0.42s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}

@media (prefers-reduced-motion: reduce) {
  .nav-pill,
  .nav-item {
    transition: none !important;
  }
  .cigarette-tip.is-active,
  .smoke-particle {
    animation: none !important;
  }
}
